---
layout: default
title: p5.js入門　p5.jsを始めよう！
permalink: /intro/introduction/
---
<div class="youtube-video-container">
  <iframe
    width="560"
    height="315"
    src="https://www.youtube.com/embed/Ph9gzC7ytsM"
    frameborder="0"
    allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
    allowfullscreen
  ></iframe>
</div>
<br />
[動くスケッチ・ソースコード](sketch)

## 1. よく使うリンク

- [p5.js 公式リファレンス](https://p5js.org/reference/) (日本語版なし)
- [p5.js 公式エディタ](https://editor.p5js.org/)

## 2. 流れを制御する重の関数

p5.jsは、`setup`と`draw`と名付けられた関数を期待しています。自分のスケッチでは、このように定義します。

```js
function setup() {
  createCanvas(400, 400);
}

function draw() {
  background(220);
}
```

`setup`は、スケッチ初期化の時に1度だけp5.jsによって実行される（呼び起こされる）。

`draw`は、画面の1コマ1コマが描かれるたびに実行されます。

### createCanvas

Processingやp5.jsは、長方形（もしくは正方形）にものを描きます。

その正方形の横と縦の大きさを、 `createCanvas` 関数を使うことで設定します。

関数とは何かのやり方をプログラムの中でまとめたものです。 `createCanvas` とは、p5.jsで用意されている関数の名前です。この関数の中身（やること、効果など）を確認しなくてもよくて、使うことだけに慣れましょう。

関数を使う（呼び出す）時は、関数の名前の次に、関数に渡したい情報をかっこに囲います：

```js
createCanvas(横幅, 縦長);
```

`createCanvas(640, 480);` を実行すると、640ドットx480ドットの横長の長方形が出現します。

## 3. background (背景)

`background`関数を呼ぶと、キャンバスごとを単色に塗りつぶすことができます。

```js
background(色);
```

`draw`の始まりに呼ぶことで、前のコマ（フレーム）の中身を消す効果も得られます。

色の指定はさまざまな方法で可能です。

### 数値1つ：モノクロ

0〜255の数値を色として扱うと、黒〜白という色になります。

- `0`: 黒
- `64`: 25% 明るい灰色（濃い）
- `128`: 50% 明るい灰色（中ぐらい）
- `192`: 75% 明るい灰色（薄い）
- `255`: 白

数値が大きくなると色が明るく（薄く）なるので、この数値を明るさと読んでもいいでしょう。

### 数値3つ：RGB

光の三原色（赤緑青ことRGB）のそれぞれの明るさを3つの数値として色を表します。

- `0, 0, 0`: 黒
- `255, 0, 0`: 真っ赤（赤だけが最大値）
- `0, 255, 0`: 100%緑
- `0, 0, 255`: 100%青
- `128, 128, 255`: 薄い青（水色？）
- `255, 255, 255`: 白

### 16進

ウェブデザインなどでお馴染みの方に便利な使い方です。上記の数値3つを16進として表したものを文字列にして、頭に `#` を付けます。

慣れている方、使えます。どこかで見てわからなかった方、こういうことです。無理に使う必要ありません。

- `"#000000"`: 黒
- `"#ff0000"`: 真っ赤（赤だけが最大値）
- `"#00ff00"`: 100%緑
- `"#0000ff"`: 100%青
- `"#8080ff"`: 薄い青（水色？）
- `"#ffffff"`: 白

## 4. ellipse (丸)

引数として数値を4つ取ります：

- x: 丸の中心のx座標（キャンバスの左端からどれほど離れているか）
- y: 丸の中心のy座標
- w: 四角の横長（width）
- h: 四角の縦長（height）

例：xが200、yが200のところに、100x100ドットという大きさの丸を描きます。

```js
ellipse(300, 200, 100, 100);
```

ついでに：wとhが一緒になっているので円形になっています。wとhが異なる場合は、楕円になります。

## 5. rect (四角)

引数として数値を4つ取ります：

- x: 左上の角のx座標
- y: 左上の角のy座標
- w: 四角の横長（width）
- h: 四角の縦長（height）


例：xが150、yが250のところ（左上の角）から、100x150ドットという大きさの四角を描きます。

```js
rect(300, 200, 50, 100);
```

ついでに：wとhが異なるので高方形になっています。wとhが一緒の場合は、正方形になります。

### 6. line（線）

引数として数値を4つ取ります：

- x1: 線が始まる点のx座標
- y1: 線が始まる点のy座標
- x2: 線が終わる点のx座標
- y2: 線が終わる点のy座標

例：xが150、yが250のところから、xが50、yが300のところまでの直線を描きます。

```js
line(100, 50, 300, 80);
```
